{
  "selftext": "Names redacted to protect the innocent, and guilty.\n\nIt all started with a phone call. \"The whole network at [customer redacted] is down and they have no power - they need your help.\"\n\nMy blood ran cold. The engineer calling me sounded panicked, and for good reason. [Customer redacted] has an enormous natural gas facility in South Texas, too far from civilization to get enough power off of the grid. We designed and built an onsite natural gas power plant for them - a big one, capable of supplying 40+MW of power at peak load. They could run the facility for a short while without the power plant, but not long - and shutting down the facility meant losing 7 figures per hour. By the time I was informed, they had 6 hours until they had to shut down.\n\nAs the guy who had designed and installed said network, I was naturally the guy to call when it had problems, which had never happened before. It was a pretty simple network, honestly - just switches, cat5 cables and fiber. Since this was the network all the PLCs, relays, meters and whatnot ran on, it was airgapped & isolated, no routers. Not much to go wrong.\n\nI quickly get on the phone and walk the guy on their end through plugging in a laptop and running some simple tests. Check lights on things, ping this, ping that. Everything seems good, though. The network is emphatically not down. So I send him a remote app and take control of his laptop to see for myself.\n\nLog into switches, check things, nope, the network's not down. When I log into the HMI system, though, I see a big red error message: \"Network Error: Cannot connect to database\". The database server is up, though. I log into the database server (Windows Server 2012 running MSSQL) and that's where I find the problem: SQL isn't running. I try to start it and it immediately shuts back off.\n\nNow this is very bad for a couple of reasons. This server provides databases for a couple of very critical things in this plant. Included are the PLC systems, which explains why the plant shut down - the PLCs weren't running and the monitoring system had shut down the turbines. Additionally, this was not a problem with the network, this was a problem with a server, and we had subbed out the systems work to [PLC Contractor], so I had no idea how all this was supposed to function and no documentation on it. I'm flying blind here.\n\nA couple of phone calls later I find out that [PLC Contractor] had subbed out procurement and set up of the server to [incompetent morons], who was on vacation. [PLC Contractor] doesn't want to touch it, tells me to call [incompetent morons]. Woohoo. 4 hours to shutdown and this has now become my multi-million dollar problem.\n\nBack at the database server I start digging to find out why SQL won't start. It didn't take me very long to find the problem: \"Invalid license data. Reinstall is required.\" Turns out that [incompetent morons] had bought the appropriate licenses for SQL 2012, but never bothered to retrieve or use the license key. The plant had been running on a trial install of SQL this entire time, and went down because the trial period ended. I wish, I really wish I was making this up, but I am not.\n\nOf course, I can't do anything to jeopardize the integrity of the database, including reinstalling, and I don't have the license key. The next hour or so consisted of lots of angry phone calls until someone at [PLC Contractor] finally dug up the documentation from the purchase, and the hour after that consisted of, roughly:\n\n1) Impersonate the CEO of an energy company ([incompetent morons] put him down, personally, on all the Microsoft paperwork), to get into the MSDN account [incompetent morons] had inexplicably set up in his name.\n\n2) Find out that MS does not just give you a license key anyway, it's embedded in the install disk. Which means that [incompetent morons] actually bought SQL and then proceeded to set it up using a trial copy.\n\n3) Sweat bullets waiting for the install disk to download.\n\n4) Extract license key from install disk.\n\n5) Use procedure I discovered using the powers of google to update the license information without reinstalling.\n\n6) Reboot everything, sweat more bullets.\n\nAfter the database server was again serving databases, the PLC came back online and the techs were able to restart the turbines. We avoided shutdown by about 30 minutes.\n\nI took the rest of the day off.\n\nEdit: VLSC, not MSDN. Brain fart.",
  "gilded": 0,
  "score": 937,
  "removal_reason": null,
  "approved_by": null,
  "created_utc": 1437507832.0,
  "is_self": true,
  "stickied": false,
  "edited": 1437542290.0,
  "distinguished": null,
  "permalink": "https://www.reddit.com/r/sysadmin/comments/3e3y8t/never_trust_a_subcontractor/?ref=search_posts",
  "banned_by": null,
  "from_id": null,
  "likes": null,
  "_underscore_names": null,
  "num_reports": null,
  "link_flair_css_class": null,
  "_info_url": "https://api.reddit.com/api/info/",
  "id": "3e3y8t",
  "archived": false,
  "secure_media": null,
  "from_kind": null,
  "saved": false,
  "domain": "self.sysadmin",
  "ups": 937,
  "suggested_sort": null,
  "quarantine": false,
  "over_18": false,
  "hide_score": false,
  "url": "https://www.reddit.com/r/sysadmin/comments/3e3y8t/never_trust_a_subcontractor/",
  "subreddit_id": "t5_2qnp7",
  "_params": {},
  "_comments": null,
  "_replaced_more": false,
  "_comments_by_id": {},
  "user_reports": [],
  "media_embed": {},
  "created": 1437511432.0,
  "author_flair_text": null,
  "visited": false,
  "selftext_html": "<!-- SC_OFF --><div class=\"md\"><p>Names redacted to protect the innocent, and guilty.</p>\n\n<p>It all started with a phone call. &quot;The whole network at [customer redacted] is down and they have no power - they need your help.&quot;</p>\n\n<p>My blood ran cold. The engineer calling me sounded panicked, and for good reason. [Customer redacted] has an enormous natural gas facility in South Texas, too far from civilization to get enough power off of the grid. We designed and built an onsite natural gas power plant for them - a big one, capable of supplying 40+MW of power at peak load. They could run the facility for a short while without the power plant, but not long - and shutting down the facility meant losing 7 figures per hour. By the time I was informed, they had 6 hours until they had to shut down.</p>\n\n<p>As the guy who had designed and installed said network, I was naturally the guy to call when it had problems, which had never happened before. It was a pretty simple network, honestly - just switches, cat5 cables and fiber. Since this was the network all the PLCs, relays, meters and whatnot ran on, it was airgapped &amp; isolated, no routers. Not much to go wrong.</p>\n\n<p>I quickly get on the phone and walk the guy on their end through plugging in a laptop and running some simple tests. Check lights on things, ping this, ping that. Everything seems good, though. The network is emphatically not down. So I send him a remote app and take control of his laptop to see for myself.</p>\n\n<p>Log into switches, check things, nope, the network&#39;s not down. When I log into the HMI system, though, I see a big red error message: &quot;Network Error: Cannot connect to database&quot;. The database server is up, though. I log into the database server (Windows Server 2012 running MSSQL) and that&#39;s where I find the problem: SQL isn&#39;t running. I try to start it and it immediately shuts back off.</p>\n\n<p>Now this is very bad for a couple of reasons. This server provides databases for a couple of very critical things in this plant. Included are the PLC systems, which explains why the plant shut down - the PLCs weren&#39;t running and the monitoring system had shut down the turbines. Additionally, this was not a problem with the network, this was a problem with a server, and we had subbed out the systems work to [PLC Contractor], so I had no idea how all this was supposed to function and no documentation on it. I&#39;m flying blind here.</p>\n\n<p>A couple of phone calls later I find out that [PLC Contractor] had subbed out procurement and set up of the server to [incompetent morons], who was on vacation. [PLC Contractor] doesn&#39;t want to touch it, tells me to call [incompetent morons]. Woohoo. 4 hours to shutdown and this has now become my multi-million dollar problem.</p>\n\n<p>Back at the database server I start digging to find out why SQL won&#39;t start. It didn&#39;t take me very long to find the problem: &quot;Invalid license data. Reinstall is required.&quot; Turns out that [incompetent morons] had bought the appropriate licenses for SQL 2012, but never bothered to retrieve or use the license key. The plant had been running on a trial install of SQL this entire time, and went down because the trial period ended. I wish, I really wish I was making this up, but I am not.</p>\n\n<p>Of course, I can&#39;t do anything to jeopardize the integrity of the database, including reinstalling, and I don&#39;t have the license key. The next hour or so consisted of lots of angry phone calls until someone at [PLC Contractor] finally dug up the documentation from the purchase, and the hour after that consisted of, roughly:</p>\n\n<p>1) Impersonate the CEO of an energy company ([incompetent morons] put him down, personally, on all the Microsoft paperwork), to get into the MSDN account [incompetent morons] had inexplicably set up in his name.</p>\n\n<p>2) Find out that MS does not just give you a license key anyway, it&#39;s embedded in the install disk. Which means that [incompetent morons] actually bought SQL and then proceeded to set it up using a trial copy.</p>\n\n<p>3) Sweat bullets waiting for the install disk to download.</p>\n\n<p>4) Extract license key from install disk.</p>\n\n<p>5) Use procedure I discovered using the powers of google to update the license information without reinstalling.</p>\n\n<p>6) Reboot everything, sweat more bullets.</p>\n\n<p>After the database server was again serving databases, the PLC came back online and the techs were able to restart the turbines. We avoided shutdown by about 30 minutes.</p>\n\n<p>I took the rest of the day off.</p>\n\n<p>Edit: VLSC, not MSDN. Brain fart.</p>\n</div><!-- SC_ON -->",
  "downs": 0,
  "_comment_sort": null,
  "report_reasons": null,
  "name": "t3_3e3y8t",
  "from": null,
  "hidden": false,
  "clicked": false,
  "media": null,
  "json_dict": null,
  "_api_link": "https://api.reddit.com/r/sysadmin/comments/3e3y8t/never_trust_a_subcontractor/?ref=search_posts",
  "secure_media_embed": {},
  "mod_reports": [],
  "_orphaned": {},
  "_uniq": null,
  "num_comments": 295,
  "link_flair_text": null,
  "title": "Never trust a subcontractor",
  "_has_fetched": true,
  "author_flair_css_class": null,
  "thumbnail": "self"
}